---
sidebar_position: 1
title: 多链操作
hide_table_of_contents: true
---
# 多链操作

可运行对象（Runnable） 可以用来组合多个 Chain：

<details>
  <summary>交互式教程</summary>
  下面的视频交互式地讲解了一个示例。你可以在视频中编写和运行代码！
  <iframe
    src="https://scrimba.com/scrim/co14344c29595bfb29c41f12a?embed=langchain,mini-header"
    width="100%"
    height="600px"
  ></iframe>
</details>

import CodeBlock from "@theme/CodeBlock";

import MultipleChainExample from "@examples/guides/expression\_language/cookbook\_multiple\_chains.ts";

import IntegrationInstallTooltip from "@mdx\_components/integration\_install\_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/anthropic
```

<CodeBlock language="typescript">{MultipleChainExample}</CodeBlock>

上面的 `RunnableSequence` 将对象强制转换为一个 `RunnableMap`。映射中的每个属性都接收相同的参数。将作为该属性值的 runnable 或函数使用这些参数调用，并返回的值填充一个对象，然后将该对象传递给序列中的下一个 runnable。

## Passthroughs

在上面的示例中，我们使用一个 Runnable Map 中的 passthrough 将原始输入变量传递给链中的后续步骤。

一般来说，如何做取决于输入的具体情况：

- 如果原始输入是一个字符串，那么你可能只想传递字符串本身。这可以通过 `RunnablePassthrough` 实现。关于此的示例，请参阅本手册中 [RAG 部分](/docs/expression_language/cookbook/retrieval) 的检索链。
- 如果原始输入是一个对象，那么你可能想要传递特定的键。为此，你可以使用一个箭头函数，该函数以对象作为输入并提取所需的键，就像上面的示例一样。


