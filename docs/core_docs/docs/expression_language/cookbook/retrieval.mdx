---
sidebar_position: 2
title: RAG（检索增强生成）
hide_table_of_contents: true
---
# RAG（检索增强生成）

现在让我们看看如何将检索步骤添加到一个提示和一个LLM中，这样就构成了一个“检索增强生成”链：

<details>
  <summary>交互式教程</summary>
  下面的屏幕录制视频将交互式地引导您完成一个示例。您可以在视频播放时更新和运行代码！
  <iframe
    src="https://scrimba.com/scrim/co0e040d09941b4000244db46?embed=langchain,mini-header"
    width="100%"
    height="600px"
  ></iframe>
</details>

import CodeBlock from "@theme/CodeBlock";
import RetrieverExample from "@examples/guides/expression_language/cookbook_retriever.ts";

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/openai @langchain/community hnswlib-node
```

<CodeBlock language="typescript">{RetrieverExample}</CodeBlock>

## 会话检索链

由于 `RunnableSequence.from` 和 `runnable.pipe` 都接受类似 runnable 的对象，包括单参数函数，因此我们可以通过格式化函数添加对话历史。这样我们就可以重新创建流行的 `ConversationalRetrievalQAChain` 来“与数据聊天”：

<details>
  <summary>交互式教程</summary>
  下面的屏幕录制视频将交互式地引导您完成一个示例。您可以在视频播放时更新和运行代码！
  <iframe
    src="https://scrimba.com/scrim/co3ed4a9eb4c6c6d0361a507c?embed=langchain,mini-header"
    width="100%"
    height="600px"
  ></iframe>
</details>

import ConversationalRetrievalExample from "@examples/guides/expression_language/cookbook_conversational_retrieval.ts";

<CodeBlock language="typescript">{ConversationalRetrievalExample}</CodeBlock>

请注意，我们创建的单个链本身就是 `Runnables`,因此可以将它们彼此管道化。


